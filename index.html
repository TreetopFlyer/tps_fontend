<!DOCTYPE html>
<html>
    <head>
        <script src="https://vuejs.org/js/vue.js"></script>
    </head>
    <body>
        <div id="App">
            <div v-for="(source, index) in API.Sources">
                <tps-source :source="source" :index="index" :list="API.Sources"/>
            </div>
        </div>
    </body>


    <!-- component tps-source -->
    <script>
    Vue.component("tps-source", {
        props:["source", "index", "list", "method"],
        template:"#template-tps-source",
        methods:{
            Create:function(inObject, inArray)
            {
                inArray.push(inObject);
            },
            Duplicate:function(inIndex, inArray)
            {
                inArray.splice(inIndex, 0, inArray[inIndex]);
            },
            Update:function(inObject, inIndex, inArray)
            {
                inArray.splice(inIndex, 1, inObject);
            },
            Delete:function(inIndex, inArray)
            {
                inArray.splice(inIndex, 1);
            }
        }
    });
    </script>
    <script type="text/x-template" id="template-tps-source">
        <div>
            <strong>{{index}}</strong>
            <div>
                {{source.name}} | {{source.data}}
            </div>
            <button v-on:click="Create(source, list)">create new</button>
            <button v-on:click="Delete(index, list)">delete</button>
            <button v-on:click="Duplicate(index, list)">duplicate</button>
            <button v-on:click="Update({name:name, data:Math.random()}, index, list)">update</button>
        </div>
        
    </script>

    <!-- application -->
    <script>
        var App = new Vue({
            el:"#App",
            data:{
                API:{
                    Domain:'//localhost:80',
                    RequestLog:[],
                    Sources:[
                        {
                            name:"gjgpjegpseg",
                            data: 54
                        }
                    ]
                }
            },
            methods:{
                HandlerCreate: function(inObject, inArray)
                {
                    console.log(inObject, inArray);
                    inArray.push({
                        name:"totally new",
                        data: Math.random()
                    });
                },
                HandlerDelete: function(inIndex, inArray)
                {
                    inArray.splice(inIndex, 1);
                }
            }
        });
    </script>
</html>