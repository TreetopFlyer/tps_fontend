<!DOCTYPE html>
<html>
    <head>
        <script src="https://vuejs.org/js/vue.js"></script>
    </head>
    <body>
        <div id="App">
            <div v-for="(source, key) in Sources">
                <tps-source v-bind="source"></tps-source>
            </div>
            <button v-on:click="Sources.push(SourceDefaults())">Add Source</button>
        </div>
    </body>

    <!-- application -->
    <script>
        var App = new Vue({
            el:"#App",
            data:{
                Sources:
                [{
                    name:"dcard",
                    source:"client_file",
                    loading_function:"csv",
                    constraint:["{Trans. Date}","{Post Date}","{Description}"],
                    schemas:
                    [{
                        name:"mapped",
                        columns:
                        [{
                            name:"Trans. Date",
                            path:"{Trans.Date}",
                            type:"date"
                        }]
                    }]
                }],
                Default:
                {
                    name:"New Source",
                    source:"(add file origin)",
                    loading_function:"csv",
                    constraint:["{}"],
                    schemas:[
                        {
                            name:"New Schema",
                            columns:[
                                {
                                    name:"New Column",
                                    path:"{}",
                                    type:"text"
                                }
                            ]
                        }
                    ]
                }
            },
            methods:{
                //////////////////////////////
                ConstraintDefaults:function()
                {

                },
                ConstraintCreate:function()
                {

                },

                //////////////////////////////
                SchemaCreate:function()
                {

                },

                //////////////////////////////
                ColumnCreate:function()
                {

                }
            }
        });
    </script>
    <script>
        Vue.component("tps-source", {
            props:{
                name:{type:String, default:"New Source"},
                source:{type:String, default:"(file origin)"},
                loading_function:{type:String, default:"JSON"},
                constraint:{type:Array},
                schemas:{type:Array}
            },
            methods:{},
            template:"#tps-source"
        });
    </script>
    <script id="tps-source" type="text/x-template">
        <div>
            <h2>Source</h2>
            {{name}}<br>
            {{source}}<br>
            {{loading_function}}<br>
        </div>
    </script>

</html>